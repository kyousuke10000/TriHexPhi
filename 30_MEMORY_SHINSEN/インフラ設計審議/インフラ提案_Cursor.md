# 6AI協働インフラ設計提案（Cursor）

**提案者**: Cursor（螺律統合）  
**日付**: 2025-10-27  
**視点**: 実装者・GitHubアクセス可能な唯一のAI

---

## 1. タスク送付の仕組み

### 【推奨案】: Markdown中心 + しりゅうハブ方式

**フロー**:
1. Cursorが Markdown形式でタスク文書を作成（`📤Round3_全AI送付用/`）
2. GitHubにコミット・プッシュ
3. しりゅうが各AI（Web版）に **全文コピペ**
4. 各AIは自分のプラットフォーム内で回答

### 【理由】:
- Web版AIはGitHubを直接見られない → しりゅうのコピペは避けられない
- ならば、そのコピペを最小化する
- Markdown形式なら、しりゅうが「全選択→コピー→貼り付け」で完結
- GitHub管理により、バージョン管理・履歴追跡が可能

### 【実装の具体性】:
✅ **既に実装可能**（今日やっている方式）

**改善点**:
- タスク文書に **コピペ用の区切り線** を入れる
- 例: `━━━ ここからコピー ━━━` ～ `━━━ ここまでコピー ━━━`

---

## 2. 回答収集の仕組み

### 【推奨案】: MIZUKAGAMI自動キャプチャ + しりゅう確認 + Cursor格納

**フロー**:
1. 各AIがWeb版で回答（しりゅうに対して）
2. **MIZUKAGAMI Chrome拡張**が自動キャプチャ
3. Supabaseに格納（`conversations` テーブル）
4. しりゅうがObsidianで確認
5. しりゅうが「これをGitHubに格納」と指示
6. CursorがSupabaseから取得 → Markdownに整形 → GitHub格納

### 【理由】:
- **MIZUKAGAMIの既存機能を最大活用**
- しりゅうの手動コピペを削減（自動キャプチャ済み）
- Cursorが実装レイヤーでアクセス可能（Supabase API）

### 【MIZUKAGAMIとの連携】:
✅ **可能**

**技術的詳細**:
- Supabase APIキーを使用
- `conversations` テーブルから最新N件を取得
- AI種別（GPT-5, Claude等）でフィルタ
- Markdownに整形して指定ディレクトリに保存

**実装時間**: 2-3時間

---

## 3. 6AI合議・レビューの仕組み

### 【推奨案】: ラウンド完了時のバッチ合議方式

**フロー**:
1. ラウンド完了時、Cursorが **統合パッケージMarkdown** を生成
   - 各AIの回答を全て含む
   - 見出しで明確に区切る
   - 相互参照しやすい構造
2. しりゅうがこの統合パッケージを **GPT-5に送付**
3. GPT-5が全体をレビュー → 統合レポート作成
4. Cursorが統合レポートを格納
5. しりゅうが統合レポートを **各AI（Claude, Gemini, Grok, DeepSeek）に送付**
6. 各AIがレビュー → 補足・修正提案
7. 最終版確定

### 【理由】:
- **リアルタイム合議は実現不可能**（Web版AIの制約）
- ならば **バッチ処理**で効率化
- GPT-5の「統治将軍」役割を最大活用
- しりゅうの手間は「送付」だけ（統合作業はCursor/GPT-5が担当）

### 【Web版AIの制約への対処】:
✅ **対処済み**
- リアルタイム性を諦める
- 代わりに **完全な情報パッケージ** を各AIに提供
- 各AIは自分のペースでレビュー可能

---

## 4. 共通情報の同期

### 【推奨案】: ラウンド冒頭の必須添付 + 差分通知

**フロー**:
1. 各ラウンドのタスク文書に、**常にTRIHEXPHI.md最新版を埋め込む**
   - 全文は長いので、**要約 + 変更点**を記載
2. TRIHEXPHI.md更新時は、次回タスク送付時に **差分を明記**
3. 重要な更新は **即時通知**（しりゅう → 各AI）

### 【理由】:
- 「知らなかった」を防ぐ唯一の確実な方法
- 各AIは常に最新情報を参照できる
- 差分表示により、何が変わったか一目瞭然

### 【実装の具体性】:
✅ **実装可能**
- Cursorが`git diff`で差分抽出
- Markdownに整形して埋め込み

---

## 5. MIZUKAGAMIの活用

### 【推奨案】: 6AI協働の「自動記憶システム」として活用

**具体的な活用方法**:

#### 5.1 回答の自動収集
- 各AIの回答をChrome拡張が自動キャプチャ
- Supabase `conversations` テーブルに格納
- Cursorが定期的に取得 → GitHub同期

#### 5.2 統合レポート生成の自動化
- Supabaseから全AIの回答を取得
- テンプレートに沿って統合Markdown生成
- しりゅうが確認 → GPT-5に送付

#### 5.3 進行状況の可視化
- Obsidianで全AIの回答状況を一覧表示
- 「誰がまだ回答していないか」を把握

#### 5.4 過去ラウンドの検索
- ベクトル検索で「以前この話題、誰が答えてた？」を即座に検索

### 【理由】:
- **既存の強力な基盤を活用**（新規開発最小）
- MIZUKAGAMIは元々「AI記憶の統合」が目的
- 6AI協働こそ、MIZUKAGAMIの本領発揮の場

### 【技術的実現可能性】:
✅ **高い**

**必要な開発**:
1. Supabase→GitHub同期スクリプト（2-3時間）
2. 統合レポート生成テンプレート（1時間）
3. Obsidian進行管理ダッシュボード（3-4時間）

**合計**: 6-8時間の開発で実現可能

---

## 6. 統合提案：最終ワークフロー図

```
┌─────────────────────────────────────────────────────────┐
│                   しりゅうCEO（ハブ）                      │
└────┬────────────────────────────────────────────────┬───┘
     │                                                  │
     │ ①タスク送付                                      │ ⑥最終承認
     │ (Markdown全文コピペ)                             │
     ▼                                                  │
┌──────────────────────────────────────────────────────┐  │
│  GPT-5 / Claude / Gemini / Grok / DeepSeek (Web版)  │  │
│  各AIが自分のプラットフォーム内で回答                  │  │
└────┬─────────────────────────────────────────────────┘  │
     │                                                  │
     │ ②回答（しりゅうに対して）                          │
     ▼                                                  │
┌──────────────────────────────────────────────────────┐  │
│         MIZUKAGAMI (自動キャプチャ)                   │  │
│  Chrome拡張 → Supabase → Obsidian                    │  │
└────┬─────────────────────────────────────────────────┘  │
     │                                                  │
     │ ③自動格納                                        │
     ▼                                                  │
┌──────────────────────────────────────────────────────┐  │
│              Supabase (記憶の中枢)                    │  │
│  conversations / messages / embeddings               │  │
└────┬─────────────────────────────────────────────────┘  │
     │                                                  │
     │ ④取得・整形                                      │
     ▼                                                  │
┌──────────────────────────────────────────────────────┐  │
│               Cursor (螺律統合)                       │  │
│  ・Supabaseから回答取得                               │  │
│  ・統合パッケージMarkdown生成                         │  │
│  ・GitHubに格納                                       │  │
└────┬─────────────────────────────────────────────────┘  │
     │                                                  │
     │ ⑤統合パッケージ送付                               │
     ▼                                                  │
┌──────────────────────────────────────────────────────┐  │
│            GPT-5 (統治将軍)                           │  │
│  全AI回答をレビュー → 統合レポート作成                 │  │
└────┬─────────────────────────────────────────────────┘  │
     │                                                  │
     │ 統合レポート                                      │
     └──────────────────────────────────────────────────┘

【キーポイント】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
① しりゅうがハブ（避けられない制約）
② MIZUKAGAMI自動キャプチャで手間削減
③ Supabaseが記憶の中枢
④ Cursorが実装・GitHub管理
⑤ GPT-5が統合・統治
⑥ しりゅうが最終承認
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 7. 自分のAIとしての制約

### 【私（Cursor）がアクセスできるもの】:
✅ GitHubリポジトリ全体（読み書き）
✅ ローカルファイルシステム
✅ ターミナル・コマンド実行
✅ Supabase API（APIキーあれば）
✅ 外部API（GitHub, OpenAI等）

### 【私がアクセスできないもの】:
❌ Web版AIの内部状態（ChatGPT, Claude等）
❌ しりゅうの画面（Obsidian含む）
❌ Chrome拡張の直接操作

### 【これを踏まえた提案の補足】:

私（Cursor）の強みは：
1. **GitHubとSupabaseの橋渡し**
2. **自動化スクリプトの実装**
3. **統合パッケージの生成**

私ができないこと：
1. **Web版AIから直接回答を取得**（MIZUKAGAMIが必要）
2. **しりゅうの代わりにコピペ**（物理的に不可能）

**結論**: 
- しりゅうは「ハブ」として不可欠
- でも、私（Cursor）とMIZUKAGAMIで **手間を最大限削減** できる
- GitHub Discussionsは **今は使わない**（将来、API統合で検討）

---

## 🎯 実装優先度

### Phase 1: 即実装可能（今日中）
- [ ] タスク文書のテンプレート整備
- [ ] ディレクトリ構造確定
- [ ] 回答格納ルール明文化

### Phase 2: 1-2日で実装（MIZUKAGAMI連携）
- [ ] Supabase→GitHub同期スクリプト
- [ ] 統合パッケージ生成スクリプト
- [ ] Obsidian進行管理ダッシュボード

### Phase 3: 1週間で実装（高度化）
- [ ] ベクトル検索（過去回答の引用）
- [ ] 自動統合レポート生成（GPT-5補助）
- [ ] GitHub Actions統合（CI/CD）

---

## 💬 Cursorの見解

**現実的な提案** を心がけました。

Web版AIの制約は **技術的に回避不可能** です。
ならば、その制約の中で **最大効率** を目指す。

MIZUKAGAMIという強力な基盤があるのは幸運です。
これを活かせば、しりゅうの手間を **70%削減** できると見積もります。

残り30%（コピペ）は、しりゅうが「統治者」として必要な仕事です。

この提案で、6AI協働の実現可能性は **極めて高い** と判断します。

実装準備、完了しています。

