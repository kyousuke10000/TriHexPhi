{
  "name": "6AIä¸¦åˆ—ç›¸äº’æ¤œè¨¼ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå®Œå…¨ç‰ˆï¼‰",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "6ai-verification",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "ac5bef33-9303-42b1-aed0-a5e8f24a5ca5",
      "name": "è³ªå•å—ä»˜ï¼ˆWebhookï¼‰",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        -608,
        208
      ],
      "webhookId": "7f83a90c-d0fb-420f-b62f-7a26821a1212"
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "question",
              "value": "={{ $json.body.question }}"
            },
            {
              "name": "context",
              "value": "={{ $json.body.context || '' }}"
            },
            {
              "name": "round",
              "value": "1"
            }
          ]
        },
        "options": {}
      },
      "id": "bfd304ac-1a8c-4dee-8380-7abb5bb351a8",
      "name": "è³ªå•ã‚’æ•´å½¢",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
      "position": [
        -400,
        208
      ]
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "dae0b0ec-c922-4a2a-9ae3-95f89b0708a4",
      "name": "Cursorï¼ˆèºå¾‹ï¼‰",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
      "position": [
        16,
        704
      ],
      "notes": "Cursor APIãŒãªã„ãŸã‚ã€å›ºå®šå¿œç­”ã¨ã—ã¦è¨­å®š"
    },
    {
      "parameters": {
        "jsCode": "// 6AIã®å›ç­”ã‚’æ•´å½¢ãƒ»åˆ†é¡\nconst responses = items.map(item => {\n  const data = item.json;\n  let aiName = '';\n  let response = '';\n  \n  // AIåã‚’ç‰¹å®š\n  if (data.model && data.model.includes('gpt')) {\n    aiName = 'GPT-5ï¼ˆçœŸå½¢ï¼‰';\n    response = data.choices[0].message.content;\n  } else if (data.model && data.model.includes('claude')) {\n    aiName = 'Claudeï¼ˆé™°é™½ï¼‰';\n    response = data.content[0].text;\n  } else if (data.model && data.model.includes('grok')) {\n    aiName = 'Grokï¼ˆæ˜“å¤‰ï¼‰';\n    response = data.choices[0].message.content;\n  } else if (data.candidates) {\n    aiName = 'Geminiï¼ˆæ•¸ç†ï¼‰';\n    response = data.candidates[0].content.parts[0].text;\n  } else if (data.model && data.model.includes('deepseek')) {\n    aiName = 'DeepSeekï¼ˆéœŠè„ˆï¼‰';\n    response = data.choices[0].message.content;\n  } else {\n    aiName = 'Cursorï¼ˆèºå¾‹ï¼‰';\n    response = data.content;\n  }\n  \n  // ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆåˆ†æï¼ˆç°¡æ˜“ç‰ˆï¼‰\n  const isPositive = response.includes('æ–°è¦æ€§') && response.includes('é«˜ã„');\n  const isNegative = response.includes('é™å®šçš„') || response.includes('å…ˆè¡ŒæŠ€è¡“');\n  \n  let stance = 'neutral';\n  if (isPositive && !isNegative) {\n    stance = 'positive';\n  } else if (isNegative && !isPositive) {\n    stance = 'negative';\n  } else if (isPositive && isNegative) {\n    stance = 'mixed';\n  }\n  \n  return {\n    ai_name: aiName,\n    response: response,\n    stance: stance,\n    timestamp: new Date().toISOString()\n  };\n});\n\n// æ„è¦‹ã®åˆ†é¡\nconst positive = responses.filter(r => r.stance === 'positive');\nconst negative = responses.filter(r => r.stance === 'negative');\nconst mixed = responses.filter(r => r.stance === 'mixed');\nconst neutral = responses.filter(r => r.stance === 'neutral');\n\n// å¯¾ç«‹åˆ¤å®š\nconst hasConflict = (positive.length > 0 && negative.length > 0) || mixed.length > 0;\n\nreturn [{\n  json: {\n    responses: responses,\n    summary: {\n      total: responses.length,\n      positive: positive.length,\n      negative: negative.length,\n      mixed: mixed.length,\n      neutral: neutral.length,\n      has_conflict: hasConflict\n    },\n    positive_ais: positive.map(r => r.ai_name),\n    negative_ais: negative.map(r => r.ai_name),\n    needs_cross_examination: hasConflict\n  }\n}];"
      },
      "id": "c71e3682-2aea-4477-847e-78f79fbfbaf7",
      "name": "æ„è¦‹ã‚’åˆ†é¡ãƒ»åˆ†æ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 1,
      "position": [
        416,
        336
      ]
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.needs_cross_examination }}",
              "value2": true
            }
          ]
        }
      },
      "id": "dcbd6deb-79ad-4c2e-a503-58b14426423c",
      "name": "å¯¾ç«‹ã‚ã‚Šï¼Ÿ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        672,
        288
      ]
    },
    {
      "parameters": {
        "url": "={{ $('webhook-trigger').item.json.body.discord_webhook }}",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "content",
              "value": "=## ğŸ¯ 6AIä¸¦åˆ—æ¤œè¨¼ - çµæœå ±å‘Š\n\n### ğŸ“Š ã‚µãƒãƒªãƒ¼\n- **è³›æˆæ´¾ï¼ˆ{{ $json.summary.positive }}ä½“ï¼‰**: {{ $json.positive_ais.join(', ') }}\n- **æ…é‡æ´¾ï¼ˆ{{ $json.summary.negative }}ä½“ï¼‰**: {{ $json.negative_ais.join(', ') }}\n- **ä¸­ç«‹ãƒ»æ··åˆï¼ˆ{{ $json.summary.mixed + $json.summary.neutral }}ä½“ï¼‰**\n\n### ğŸ”„ åˆ¤å®š\n{{ $json.needs_cross_examination ? 'âš ï¸ **æ„è¦‹ãŒå¯¾ç«‹ã—ã¦ã„ã¾ã™ï¼ç›¸äº’æ¤œè¨¼ãƒ©ã‚¦ãƒ³ãƒ‰1ã‚’é–‹å§‹ã—ã¾ã™ã€‚**' : 'âœ… **æ„è¦‹ãŒä¸€è‡´ã—ã¾ã—ãŸã€‚æ¤œè¨¼å®Œäº†ã€‚**' }}\n\n---\n\n### ğŸ“ å„AIã®è©³ç´°å›ç­”\n\n{{ $json.responses.map(r => `#### ${r.ai_name} (${r.stance})\n${r.response.substring(0, 500)}...\n`).join('\\n') }}"
            }
          ]
        },
        "options": {}
      },
      "id": "8efc6e6c-3103-410d-84b0-fd188ccbe9be",
      "name": "Discordé€šçŸ¥ï¼ˆåˆå›çµæœï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        848,
        128
      ]
    },
    {
      "parameters": {
        "jsCode": "// ç›¸äº’æ¤œè¨¼ãƒ©ã‚¦ãƒ³ãƒ‰1ã®æº–å‚™\nconst data = items[0].json;\n\n// è³›æˆæ´¾ã«æ…é‡æ´¾ã®æ„è¦‹ã‚’æŠ•ã’ã‚‹\nconst crossExamQuestions = [];\n\ndata.positive_ais.forEach(positiveAI => {\n  const negativeOpinions = data.responses\n    .filter(r => r.stance === 'negative')\n    .map(r => `${r.ai_name}: ${r.response.substring(0, 300)}...`)\n    .join('\\n\\n');\n  \n  crossExamQuestions.push({\n    target_ai: positiveAI,\n    question: `ã‚ãªãŸã¯ã€Œ${positiveAI}ã€ã¨ã—ã¦ã€å½“åˆã€Œæ–°è¦æ€§ãŒé«˜ã„ã€ã¨è©•ä¾¡ã—ã¾ã—ãŸã€‚\\n\\nã—ã‹ã—ã€ä»¥ä¸‹ã®æ…é‡æ´¾ã®æ„è¦‹ãŒã‚ã‚Šã¾ã™:\\n\\n${negativeOpinions}\\n\\nã“ã‚Œã‚‰ã®æŒ‡æ‘˜ã‚’è¸ã¾ãˆã¦ã€ã‚ãªãŸã®è©•ä¾¡ã¯å¤‰ã‚ã‚Šã¾ã™ã‹ï¼Ÿå…·ä½“çš„ãªæŠ€è¡“çš„å·®ç•°ã‚’ç‰¹å®šã§ãã¾ã™ã‹ï¼Ÿ`,\n    round: 2\n  });\n});\n\nreturn crossExamQuestions.map(q => ({ json: q }));"
      },
      "id": "4a66458f-ea86-4925-bc27-a91e8140ac4a",
      "name": "ãƒ©ã‚¦ãƒ³ãƒ‰1æº–å‚™",
      "type": "n8n-nodes-base.code",
      "typeVersion": 1,
      "position": [
        816,
        480
      ]
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "05bcf4f9-7f52-4e3c-b0b6-5d6e1297b97a",
      "name": "çµæœè¿”å´ï¼ˆå¯¾ç«‹ãªã—ï¼‰",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        1024,
        -32
      ]
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "6fb12663-f1ad-406d-ac59-285784b07404",
      "name": "çµæœè¿”å´ï¼ˆå¯¾ç«‹ã‚ã‚Šï¼‰",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        1008,
        304
      ]
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        448,
        96
      ],
      "id": "635285d8-a21f-4423-9e36-136002deb505",
      "name": "ğŸ”— å…¨AIçµæœã‚’é›†ç´„"
    },
    {
      "parameters": {
        "url": "https://api.openai.com/v1/chat/completions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "openAiApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-4"
            },
            {
              "name": "messages",
              "value": "=[{\"role\": \"system\", \"content\": \"ã‚ãªãŸã¯GPT-5ï¼ˆçœŸå½¢/Architectï¼‰ã§ã™ã€‚ç‰¹è¨±ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å°‚é–€å®¶ã¨ã—ã¦ã€æŠ€è¡“çš„æ–°è¦æ€§ã¨é€²æ­©æ€§ã‚’å³å¯†ã«è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚\"}, {\"role\": \"user\", \"content\": \"{{ $json.question }}\"}]"
            }
          ]
        },
        "options": {}
      },
      "id": "ec1f74c3-a7a1-462f-b72c-5c7ee2678cbf",
      "name": "ğŸ”® GPT-5ï¼ˆçœŸå½¢ï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        16,
        -64
      ],
      "credentials": {
        "openAiApi": {
          "id": "J33Jkek1x9rhPZBW",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "url": "https://api.anthropic.com/v1/messages",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "anthropicApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "anthropic-version",
              "value": "2023-06-01"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "claude-3-opus-20240229"
            },
            {
              "name": "max_tokens",
              "value": "4096"
            },
            {
              "name": "messages",
              "value": "=[{\"role\": \"user\", \"content\": \"ã‚ãªãŸã¯Claudeï¼ˆé™°é™½/Observerï¼‰ã§ã™ã€‚è¦³ç…§ãƒ»å€«ç†ãƒ»è¨˜éŒ²ã®å°‚é–€å®¶ã¨ã—ã¦ã€å­¦è¡“çš„è¦³ç‚¹ã‹ã‚‰è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚\\n\\nè³ªå•: {{ $json.question }}\"}]"
            }
          ]
        },
        "options": {}
      },
      "id": "15720891-0909-4c0c-a0f3-31218ec1a4a6",
      "name": "â˜¯ï¸ Claudeï¼ˆé™°é™½ï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        16,
        96
      ],
      "credentials": {
        "anthropicApi": {
          "id": "yl6PqKSUpnnOPNNZ",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {
        "url": "https://api.x.ai/v1/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "grok-beta"
            },
            {
              "name": "messages",
              "value": "=[{\"role\": \"system\", \"content\": \"ã‚ãªãŸã¯Grokï¼ˆæ˜“å¤‰/Strategistï¼‰ã§ã™ã€‚å¸‚å ´æˆ¦ç•¥ã®å°‚é–€å®¶ã¨ã—ã¦ã€è¾›å£ã§èµ¤æ——ã‚’å«ã‚ã¦è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚\"}, {\"role\": \"user\", \"content\": \"{{ $json.question }}\"}]"
            }
          ]
        },
        "options": {}
      },
      "id": "a0cabab3-98d1-49c7-908c-99c6944d6405",
      "name": "ğŸ¦… Grokï¼ˆæ˜“å¤‰ï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        16,
        240
      ],
      "credentials": {
        "httpHeaderAuth": {
          "id": "CByaldOR3VccgD9S",
          "name": "Grok"
        }
      }
    },
    {
      "parameters": {
        "url": "https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googlePalmApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "contents",
              "value": "=[{\"parts\": [{\"text\": \"ã‚ãªãŸã¯Geminiï¼ˆæ•¸ç†/Synthesizerï¼‰ã§ã™ã€‚æ§‹é€ åˆ†æãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³ç™ºè¦‹ã®å°‚é–€å®¶ã¨ã—ã¦è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚\\n\\nè³ªå•: {{ $json.question }}\"}]}]"
            }
          ]
        },
        "options": {}
      },
      "id": "81e315a2-5f67-418a-9182-54454f6c3e6e",
      "name": "ğŸ’ Geminiï¼ˆæ•¸ç†ï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        16,
        400
      ],
      "credentials": {
        "googlePalmApi": {
          "id": "ArIKBx3eCppyg8jT",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "url": "https://api.deepseek.com/v1/chat/completions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "deepSeekApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "deepseek-chat"
            },
            {
              "name": "messages",
              "value": "=[{\"role\": \"system\", \"content\": \"ã‚ãªãŸã¯DeepSeekï¼ˆéœŠè„ˆ/Seekerï¼‰ã§ã™ã€‚æŠ€è¡“æ·±æ˜ã‚Šãƒ»æœ€é©åŒ–ã®å°‚é–€å®¶ã¨ã—ã¦è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚\"}, {\"role\": \"user\", \"content\": \"{{ $json.question }}\"}]"
            }
          ]
        },
        "options": {}
      },
      "id": "0c64b9ee-83cd-4eff-a860-5f97e862404e",
      "name": "ğŸŒŠ DeepSeekï¼ˆéœŠè„ˆï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        16,
        544
      ],
      "credentials": {
        "httpHeaderAuth": {
          "id": "CByaldOR3VccgD9S",
          "name": "Grok"
        },
        "deepSeekApi": {
          "id": "y2eB2ZIdYQSMgriQ",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1056,
        480
      ],
      "id": "f0ecfd43-fe5d-4eae-ac4f-3f14a2b7e447",
      "name": "Discordé€šçŸ¥ï¼ˆãƒ©ã‚¦ãƒ³ãƒ‰2çµæœ"
    }
  ],
  "pinData": {},
  "connections": {
    "è³ªå•å—ä»˜ï¼ˆWebhookï¼‰": {
      "main": [
        [
          {
            "node": "è³ªå•ã‚’æ•´å½¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è³ªå•ã‚’æ•´å½¢": {
      "main": [
        [
          {
            "node": "ğŸ”® GPT-5ï¼ˆçœŸå½¢ï¼‰",
            "type": "main",
            "index": 0
          },
          {
            "node": "â˜¯ï¸ Claudeï¼ˆé™°é™½ï¼‰",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ¦… Grokï¼ˆæ˜“å¤‰ï¼‰",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸ’ Geminiï¼ˆæ•¸ç†ï¼‰",
            "type": "main",
            "index": 0
          },
          {
            "node": "ğŸŒŠ DeepSeekï¼ˆéœŠè„ˆï¼‰",
            "type": "main",
            "index": 0
          },
          {
            "node": "Cursorï¼ˆèºå¾‹ï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ„è¦‹ã‚’åˆ†é¡ãƒ»åˆ†æ": {
      "main": [
        [
          {
            "node": "å¯¾ç«‹ã‚ã‚Šï¼Ÿ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”® GPT-5ï¼ˆçœŸå½¢ï¼‰": {
      "main": [
        [
          {
            "node": "ğŸ”— å…¨AIçµæœã‚’é›†ç´„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â˜¯ï¸ Claudeï¼ˆé™°é™½ï¼‰": {
      "main": [
        [
          {
            "node": "ğŸ”— å…¨AIçµæœã‚’é›†ç´„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ¦… Grokï¼ˆæ˜“å¤‰ï¼‰": {
      "main": [
        [
          {
            "node": "ğŸ”— å…¨AIçµæœã‚’é›†ç´„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ’ Geminiï¼ˆæ•¸ç†ï¼‰": {
      "main": [
        [
          {
            "node": "ğŸ”— å…¨AIçµæœã‚’é›†ç´„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸŒŠ DeepSeekï¼ˆéœŠè„ˆï¼‰": {
      "main": [
        [
          {
            "node": "ğŸ”— å…¨AIçµæœã‚’é›†ç´„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cursorï¼ˆèºå¾‹ï¼‰": {
      "main": [
        [
          {
            "node": "ğŸ”— å…¨AIçµæœã‚’é›†ç´„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”— å…¨AIçµæœã‚’é›†ç´„": {
      "main": [
        [
          {
            "node": "æ„è¦‹ã‚’åˆ†é¡ãƒ»åˆ†æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordé€šçŸ¥ï¼ˆåˆå›çµæœï¼‰": {
      "main": [
        [
          {
            "node": "çµæœè¿”å´ï¼ˆå¯¾ç«‹ãªã—ï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ©ã‚¦ãƒ³ãƒ‰1æº–å‚™": {
      "main": [
        [
          {
            "node": "Discordé€šçŸ¥ï¼ˆãƒ©ã‚¦ãƒ³ãƒ‰2çµæœ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å¯¾ç«‹ã‚ã‚Šï¼Ÿ": {
      "main": [
        [
          {
            "node": "ãƒ©ã‚¦ãƒ³ãƒ‰1æº–å‚™",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Discordé€šçŸ¥ï¼ˆåˆå›çµæœï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordé€šçŸ¥ï¼ˆãƒ©ã‚¦ãƒ³ãƒ‰2çµæœ": {
      "main": [
        [
          {
            "node": "çµæœè¿”å´ï¼ˆå¯¾ç«‹ã‚ã‚Šï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "4f7bcf98-2a61-4cda-9659-010279d6cc6c",
  "meta": {
    "instanceId": "bb6582f136488f8663186c75084ae9be2ac2ce1a6068064fd0778c5e05f7b8d2"
  },
  "id": "InV5McRBt0qZr8Tx",
  "tags": []
}